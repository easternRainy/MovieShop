<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Review</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
            <div class="modal-body">
                <div class="rating-drop-down">
                    <label>Choose a rate:</label>
                    <select name="rates" id="rates">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                    </select>
                </div>

                <div class="review-content">
                    <label>Write Your Review:</label>
                    <input type="text" size=50 height=50>
                </div>
            </div>
            
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="WriteMovieReview(@Model.Id)">Submit</button>
        </div>
        
        <script>
            function WriteMovieReview(movieId) {
               xmlhttp = new XMLHttpRequest();
               xmlhttp.open("POST", "/User/Review", true);
               var FD = new FormData();
               var rating = document.querySelector(".rating-drop-down select").value;
               var reviewText = document.querySelector(".review-content input").value;
               FD.append("movieId", movieId);
               FD.append("rating", rating);
               FD.append("reviewText", reviewText);
               
               xmlhttp.send(FD);
            }
        </script>
    </div>
    </div>
</div>